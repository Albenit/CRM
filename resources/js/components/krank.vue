<template>
    <div class="list-choice ps-2">
        <div class="">
            <div class="row g-0">
                <div class="col-auto me-2">
                    <svg width="35" height="37" viewBox="0 0 42 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6.00716 8.62531C8.38509 8.62531 10.3197 6.69089 10.3197 4.31297C10.3197 1.93473 8.38524 0 6.00716 0C3.6294 0 1.69482 1.93473 1.69482 4.31297C1.69482 6.69089 3.6294 8.62531 6.00716 8.62531ZM6.00716 1.42505C7.59922 1.42505 8.89445 2.7206 8.89445 4.31297C8.89445 5.90487 7.59922 7.20026 6.00716 7.20026C4.41526 7.20026 3.11988 5.90503 3.11988 4.31297C3.11988 2.7206 4.41526 1.42505 6.00716 1.42505Z" fill="black"/>
                        <path d="M1.85608 26.2061V39.0404C1.85608 39.434 2.17512 39.753 2.56853 39.753C2.96209 39.753 3.28098 39.4341 3.28098 39.0404V25.8392C3.28098 25.8283 3.27987 25.8175 3.2794 25.8066C3.2805 25.5507 3.14375 25.3026 2.90207 25.1739C1.99047 24.6884 1.42423 23.7496 1.42423 22.7235V14.8905C1.42423 13.3618 2.66763 12.1182 4.19603 12.1182H7.84823C9.37664 12.1182 10.62 13.3619 10.62 14.8905V22.7235C10.62 23.7493 10.0533 24.6883 9.14126 25.1739C8.89469 25.3051 8.75762 25.5605 8.76439 25.8219C8.76424 25.8277 8.76361 25.8332 8.76361 25.839V39.0403C8.76361 39.4338 9.08265 39.7529 9.47621 39.7529C9.86977 39.7529 10.1887 39.434 10.1887 39.0403V26.2049C11.3438 25.4274 12.0452 24.1298 12.0452 22.7235V14.8905C12.0452 12.576 10.1625 10.693 7.84839 10.693H4.19603C1.88176 10.6933 -0.000976562 12.5764 -0.000976562 14.8908V22.7238C-0.000976562 24.1309 0.7006 25.4289 1.85608 26.2061Z" fill="black"/>
                        <path d="M19.658 18.3609C22.0363 18.3609 23.971 16.4258 23.971 14.0476C23.971 11.6694 22.0363 9.73462 19.658 9.73462C17.2803 9.73462 15.3457 11.6694 15.3457 14.0476C15.3457 16.4258 17.2803 18.3609 19.658 18.3609ZM19.658 11.1597C21.2504 11.1597 22.546 12.4552 22.546 14.0474C22.546 15.64 21.2504 16.9357 19.658 16.9357C18.0661 16.9357 16.7708 15.64 16.7708 14.0474C16.7709 12.4552 18.0661 11.1597 19.658 11.1597Z" fill="black"/>
                        <path d="M16.6298 32.1964V39.0405C16.6298 39.434 16.9489 39.7531 17.3424 39.7531C17.736 39.7531 18.0549 39.4342 18.0549 39.0405V31.8297C18.0549 31.8186 18.0538 31.8079 18.0533 31.797C18.0544 31.5412 17.9177 31.2932 17.6761 31.1645C16.7641 30.6786 16.1975 29.7396 16.1975 28.7141V24.6253C16.1975 23.0966 17.4411 21.853 18.9693 21.853H20.3755C21.9039 21.853 23.1473 23.0966 23.1473 24.6253V28.7141C23.1473 29.7396 22.5806 30.6784 21.6686 31.1646C21.4222 31.2959 21.2852 31.5513 21.2919 31.8126C21.2919 31.8183 21.2912 31.8238 21.2912 31.8297V39.0405C21.2912 39.434 21.6102 39.7531 22.0038 39.7531C22.3973 39.7531 22.7164 39.4342 22.7164 39.0405V32.1953C23.8711 31.4172 24.5723 30.1199 24.5723 28.7141V24.6253C24.5723 22.3109 22.6896 20.428 20.3755 20.428H18.9693C16.6552 20.428 14.7725 22.3109 14.7725 24.6253V28.7141C14.7723 30.1209 15.4742 31.4188 16.6298 32.1964Z" fill="black"/>
                        <path d="M34.0882 10.872C36.4661 10.872 38.4005 8.93772 38.4005 6.55996C38.4005 4.18109 36.4661 2.24573 34.0882 2.24573C31.7101 2.24573 29.7754 4.18109 29.7754 6.55996C29.7754 8.93772 31.7101 10.872 34.0882 10.872ZM34.0882 3.67078C35.6803 3.67078 36.9755 4.96695 36.9755 6.55996C36.9755 8.1517 35.6801 9.44677 34.0882 9.44677C32.4958 9.44677 31.2004 8.1517 31.2004 6.55996C31.2004 4.96695 32.4958 3.67078 34.0882 3.67078Z" fill="black"/>
                        <path d="M26.889 28.7626H31.0589V39.0406C31.0589 39.4342 31.3779 39.7532 31.7715 39.7532C32.165 39.7532 32.4841 39.4343 32.4841 39.0406V28.05C32.4841 28.0007 32.479 27.9526 32.4696 27.9063C32.4647 27.8831 32.459 27.8603 32.4519 27.8381C32.3617 27.548 32.0911 27.3374 31.7715 27.3374C31.7713 27.3374 31.7713 27.3374 31.7712 27.3374H28.0419L31.2709 20.8787C31.3204 20.7799 31.3462 20.6707 31.3462 20.5601V17.1057C31.3462 15.5944 32.5763 14.3649 34.088 14.3649C35.5995 14.3649 36.8292 15.5944 36.8292 17.1057V20.5601C36.8292 20.6709 36.8549 20.7799 36.9043 20.8787L40.1334 27.3374H36.4333C36.4333 27.3374 36.4331 27.3374 36.433 27.3374C36.1133 27.3374 35.8426 27.548 35.7525 27.8381C35.7456 27.8604 35.7397 27.8831 35.735 27.9063C35.7254 27.9526 35.7205 28.0007 35.7205 28.05V39.0406C35.7205 39.4342 36.0394 39.7532 36.433 39.7532C36.8265 39.7532 37.1456 39.4343 37.1456 39.0406V28.7626H41.2863C41.5332 28.7626 41.7626 28.6347 41.8926 28.4246C42.0222 28.2146 42.0341 27.9523 41.9238 27.7314L38.2542 20.3919V17.1055C38.2542 14.8084 36.3854 12.9397 34.0881 12.9397C31.7905 12.9397 29.9214 14.8084 29.9214 17.1055V20.3919L26.252 27.7314C26.1415 27.9523 26.1534 28.2145 26.2832 28.4246C26.4127 28.6347 26.6421 28.7626 26.889 28.7626Z" fill="black"/>
                    </svg>

                </div>
                <div class="col mt-auto">
                    <span style="font-weight: 600;color:#1D2346;font-size: 17px" >Zugehörige Personen anzeigen oder hinzufügen</span>
                </div>
                
            </div>
        </div>
        <div id="openKrankenDropdown">
            <div class="row g-0">
                <div class="col-auto pt-3 pe-3" v-for="fam in family" :value="fam.id">
                    <label class="container1">{{fam.first_name}} {{fam.last_name}}
                        <input type="radio" name="radio" :value="fam.id" v-model="val" @click="linkthat(fam.id)">
                        <span class="checkmark1"></span>
                    </label>
                </div>
                <!-- <div class="">
                    <div class="">
                        <button @click="linkthat(); openKrankenDropdown()" onclick="saveContentFunct11()" type="button"
                                class="continueBtn py-0 py-md-1 w-100">Verknüpfung</button>
                    </div>
                </div> -->
            </div>
        </div>
    </div>
</template>

<script>
export default {
    mounted() {
        this.getfamily();
    },
    data(){
        return{
            family:null,
            val:null
        }
    },
    props:{
        lead_id:{},
        fam_id:{},
        url:{},
    },
    methods:{
        getfamily :function(){
            axios.get(this.url + 'fmembers/' + this.fam_id + '/' + this.lead_id).then((response) => {
                this.family = response.data;
                this.val = response.data[0].id;
            
            });
        },
        linkthat:function(x){
            axios.get(this.url + 'linkthat/' + this.lead_id + '/' + this.val).then(this.getfamily());
        },
        onChangeSelect(event) {
            this.val = parseInt(event.target.value)
        },
        openKrankenDropdown:function() {
            $("#openKrankenDropdown").slideToggle();
        },
    }
}
</script>
